# LC0032 最长有效括号（Longest Valid Parentheses）

## 题目大意
给定一个只包含 `(` 和 `)` 的字符串，找出 **最长的有效括号子串** 的长度。

## 思路（动态规划）
- 定义 `dp[i]`：以下标 `i` 结尾的最长有效括号子串长度。
- 只有当 `s[i] == ')'` 时，`dp[i]` 可能非 0。
  - 若 `s[i-1] == '('`：形如 `"...()"`，
    - `dp[i] = dp[i-2] + 2`。
  - 若 `s[i-1] == ')'`：形如 `"...))"`，可能是 `"...( ... ) )"`：
    - 设前面一段有效长度为 `dp[i-1]`，其左边第一个位置为 `pre = i - dp[i-1] - 1`。
    - 若 `pre >= 0` 且 `s[pre] == '('`，则形成新的有效串：
      - `dp[i] = dp[i-1] + 2 + dp[pre-1]`（`pre-1` 之前可能还有一段有效串）。
- 遍历取全局最大值即可。

## 复杂度
- 时间复杂度：O(n)。
- 空间复杂度：O(n)。

## 考点
- 括号串相关 DP 的状态设计。
- 下标推导和边界处理。
