# LC0295 数据流的中位数（Find Median from Data Stream）

## 题目大意
设计一个数据结构，动态地向其中添加数字，并在任何时候返回当前所有元素的中位数。

## 思路（两个堆）
- 维护两个堆：
  - 大根堆 `small`：存较小的一半元素；
  - 小根堆 `large`：存较大的一半元素；
- 不变式：
  - `small.size()` 与 `large.size()` 之差不超过 1；
  - 且所有 `small` 中元素 ≤ 所有 `large` 中元素。
- 插入元素 `num`：
  1. 先按值与 `small.peek()` 比较，决定进 `small` 还是 `large`；
  2. 再进行一次平衡：若某堆元素数多 2 个，则弹出堆顶放入另一堆。
- 求中位数：
  - 若元素总数为奇数，中位数为元素较多的堆堆顶；
  - 若为偶数，为两个堆堆顶平均值。

## 复杂度
- 插入一次：O(log n)。
- 查询中位数：O(1)。

## 考点
- 堆数据结构的综合应用。
- 将序列按中位数划分为两半的典型技巧。
